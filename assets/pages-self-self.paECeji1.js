import{_ as e,A as a,B as l,Y as t,C as s,c as n,w as u,i,o as d,l as r,D as o,m as f,t as c,p as _,q as m,F as p,n as x}from"./index-nI17xpur.js";const v=e({__name:"self",setup(e){const v=a({});l((async()=>{const e=t.databaseForJQL(),a=await e.collection("libraux-users").where({role:"agent"}).field("avatar,nickname,mobile,school,role").get({getTree:{limitLevel:1,startWith:"_id==$cloudEnv_uid"}});v.value=a.data[0]}));const g=()=>{x({url:"/pages/self/ledger"})};return(e,a)=>{const l=s("el-avatar"),t=s("el-button"),x=i,w=s("el-row"),b=s("el-text");return d(),n(x,{class:"uni-container edit-container"},{default:u((()=>[r(x,{class:"fix-top-window"},{default:u((()=>[o("div",{class:"container"},[o("div",{class:"avtar",style:{width:"400px",margin:"80px 0",padding:"25px",border:"1px solid #eeeeee","border-radius":"5px"}},[r(w,{style:{"align-items":"flex-end","justify-content":"space-between"}},{default:u((()=>[r(l,{shape:"square",size:"large",src:v.value.avatar},null,8,["src"]),r(x,null,{default:u((()=>[r(t,{type:"primary",style:{"margin-left":"35px"},size:"small",disabled:""},{default:u((()=>[f("修改信息")])),_:1}),r(t,{type:"warning",size:"small",onClick:g},{default:u((()=>[f("账单统计")])),_:1})])),_:1})])),_:1}),r(x,null,{default:u((()=>[r(x,{class:"flex-item-between"},{default:u((()=>[r(b,null,{default:u((()=>[f("昵称")])),_:1}),r(b,null,{default:u((()=>[f(c(v.value.nickname),1)])),_:1})])),_:1}),r(x,{class:"flex-item-between"},{default:u((()=>[r(b,null,{default:u((()=>[f("身份")])),_:1}),r(b,null,{default:u((()=>{var e;return[f(c(null==(e=v.value.role)?void 0:e.toString()),1)]})),_:1})])),_:1}),r(x,{class:"flex-item-between"},{default:u((()=>[r(b,null,{default:u((()=>[f("手机")])),_:1}),r(b,null,{default:u((()=>[f(c(v.value.mobile),1)])),_:1})])),_:1}),r(x,{class:"flex-item-between"},{default:u((()=>[r(b,null,{default:u((()=>[f("归属")])),_:1}),r(b,null,{default:u((()=>[f(c(v.value.school),1)])),_:1})])),_:1}),r(x,{class:"flex-item-between"},{default:u((()=>[r(x,{style:{display:"grid","grid-template-columns":"auto auto auto","justify-content":"space-between"}},{default:u((()=>[(d(!0),_(p,null,m(v.value.children,(e=>(d(),n(x,{style:{display:"flex",margin:"10px 0",width:"100px"}},{default:u((()=>[r(l,{shape:"square",size:"small",src:e.avatar},null,8,["src"]),r(b,{size:"small",style:{"margin-left":"10px"}},{default:u((()=>[f(c(e.nickname),1)])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1})])),_:1})])])])),_:1})])),_:1})}}},[["__scopeId","data-v-3a4a9cfa"]]);export{v as default};
