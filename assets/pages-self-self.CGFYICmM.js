import{_ as e,A as l,B as a,Y as t,C as s,c as n,w as u,i,o as d,l as r,D as o,m as c,t as f,p as _,q as m,F as p,n as x}from"./index-CTufusbk.js";const v=e({__name:"self",setup(e){const v=l({});a((async()=>{const e=t.databaseForJQL(),l=await e.collection("libraux-users").where({role:"agent"}).field("avatar,nickname,mobile,school,role").get({getTree:{limitLevel:1,startWith:"_id==$cloudEnv_uid"}});v.value=l.data[0]}));const b=()=>{x({url:"/pages/self/ledger"})};return(e,l)=>{const a=s("el-avatar"),t=s("el-button"),x=i,g=s("el-row"),w=s("el-text");return d(),n(x,{class:"uni-container edit-container"},{default:u((()=>[r(x,{class:"fix-top-window"},{default:u((()=>[o("div",{class:"container"},[o("div",{class:"avtar",style:{width:"400px",margin:"80px 0",padding:"25px",border:"1px solid #eeeeee","border-radius":"5px"}},[r(g,{style:{"align-items":"flex-end","justify-content":"space-between"}},{default:u((()=>[r(a,{shape:"square",size:"large",src:v.value.avatar},null,8,["src"]),r(x,null,{default:u((()=>[r(t,{type:"primary",style:{"margin-left":"35px"},size:"small",disabled:""},{default:u((()=>[c("修改信息")])),_:1}),r(t,{type:"warning",size:"small",onClick:b},{default:u((()=>[c("账单统计")])),_:1})])),_:1})])),_:1}),r(x,null,{default:u((()=>[r(x,{class:"flex-item-between"},{default:u((()=>[r(w,null,{default:u((()=>[c("昵称")])),_:1}),r(w,null,{default:u((()=>[c(f(v.value.nickname),1)])),_:1})])),_:1}),r(x,{class:"flex-item-between"},{default:u((()=>[r(w,null,{default:u((()=>[c("身份")])),_:1}),r(w,null,{default:u((()=>{var e;return[c(f(null==(e=v.value.role)?void 0:e.toString()),1)]})),_:1})])),_:1}),r(x,{class:"flex-item-between"},{default:u((()=>[r(w,null,{default:u((()=>[c("手机")])),_:1}),r(w,null,{default:u((()=>[c(f(v.value.mobile),1)])),_:1})])),_:1}),r(x,{class:"flex-item-between"},{default:u((()=>[r(w,null,{default:u((()=>[c("归属")])),_:1}),r(w,null,{default:u((()=>[c(f(v.value.school),1)])),_:1})])),_:1}),r(x,{class:"flex-item-between"},{default:u((()=>[r(x,{style:{display:"grid","grid-template-columns":"auto auto auto","justify-content":"space-between"}},{default:u((()=>[(d(!0),_(p,null,m(v.value.children,(e=>(d(),n(x,{style:{display:"flex",margin:"10px 0",width:"100px"}},{default:u((()=>[r(a,{shape:"square",size:"small",src:e.avatar},null,8,["src"]),r(w,{size:"small",style:{"margin-left":"10px"}},{default:u((()=>[c(f(e.nickname),1)])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1})])),_:1})])])])),_:1})])),_:1})}}},[["__scopeId","data-v-4844cab3"]]);export{v as default};
